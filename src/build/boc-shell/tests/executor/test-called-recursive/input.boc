var $(list) = (((e @ f) @ (g @ h)) @ ((c @ (a @ b)) @ d));

function print_spaces(depth)
{
    if(!null($depth)) {
        echo -n "  ";
        call print_spaces(cdr($depth));
    }
}

function print_tree_inner(tree, depth)
{
    if(null($tree)) {
        return;
    }
    else if(atom($tree)) {
        call print_spaces($depth);
        echo "* "$(tree);
    }
    else {
        call print_spaces($depth);
        echo "*-+";
        var $(child_depth) = (nil @ $(depth));
        call print_tree_inner(car($tree), $(child_depth));
        call print_tree_inner(cdr($tree), $(child_depth));
    }
}

function print_tree(tree)
{
    call print_tree_inner($(tree), nil);
}

call print_tree($(list));
